@model CarDealershipASPNETMVC.Models.OrderModel
@{
    //Order Edit
}
<br />
<h2>Edit Auftrag</h2>

<form method="post" action="Edit" class="mt-5">
    
    <div class="form-group">
        <input asp-for="UserId" class="form-control" />
        <span asp-validation-for="UserId" class="text-danger"></span>
    </div>
    <div class="form-group">
        <input asp-for="ShoppingCartOrderId" class="form-control" />
        <span asp-validation-for="ShoppingCartOrderId" class="text-danger"></span>
    </div>

    <div class="row-mb3">
        <label class="col-sm3 col-form-label">@Html.DisplayNameFor(model => model.OrderId)</label>
        <div class="col-sm6">
            <input type="number" class="form-control" asp-for="OrderId" readonly>
        </div>
    </div>
    @if (GlobalData.UserAccess == "Manager" && Model.OrderStatusId < 2)
    {
          <div class="row-mb3">
            <label class="col-sm3 col-form-label">@Html.DisplayNameFor(model => model.CustomerId)</label>
            <div class="col-sm6">
                     @Html.DropDownListFor(model => model.CustomerId, new SelectList( ViewBag.CustomersList, "CustomerId", "CustomersListItem"))
            </div>
          </div>
            <div class="row-mb3">
                <label class="col-sm3 col-form-label">@Html.DisplayNameFor(model => model.SalesPersonId)</label>
                <div class="col-sm6">
                         @Html.DropDownListFor(model => model.SalesPersonId, new SelectList( ViewBag.SalesPersonsList, "SalesId", "SalespersonsListItem"))
                </div>
            </div>
    }
    else
    {
        <div class="row-mb3">
            <label class="col-sm3 col-form-label">@Html.DisplayNameFor(model => model.CustomerId)</label>
            <div class="col-sm6">
                <input type="number" class="form-control" asp-for="CustomerId" readonly>
            </div>
        </div>
        <div class="row-mb3">
            <label class="col-sm3 col-form-label">@Html.DisplayNameFor(model => model.SalesPersonId)</label>
            <div class="col-sm6">
                <input type="number" class="form-control" asp-for="SalesPersonId" readonly>
            </div>
        </div>
    }
    @if (Model.OrderStatusId < 2)
    {
        <div class="row-mb3">
            <label class="col-sm3 col-form-label">@Html.DisplayNameFor(model => model.ProductId)</label>
            <div class="col-sm6">
                     @Html.DropDownListFor(model => model.ProductId, new SelectList( ViewBag.CarAccessoriesList, "CAId", "CarAccessoriesListItem"))
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm3 col-form-label">@Html.DisplayNameFor(model => model.Quantity)</label>
            <div class="col-sm6">
                <input type="number" class="form-control" asp-for="Quantity">
            </div>
        </div>        
    }   
    else
    {
        <div class="row-mb3">
            <label class="col-sm3 col-form-label">@Html.DisplayNameFor(model => model.ProductId)</label>
            <div class="col-sm6">
                   <input type="number" class="form-control" asp-for="ProductId" readonly>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm3 col-form-label">@Html.DisplayNameFor(model => model.Quantity)</label>
            <div class="col-sm6">
                <input type="number" class="form-control" asp-for="Quantity" readonly>
            </div>
        </div>
        
    }
    @if (GlobalData.UserAccess == "Manager")
    {
        <div class="row-mb3">
            <label class="col-sm3 col-form-label">@Html.DisplayNameFor(model => model.OrderStatusId)</label>
            <div class="col-sm6">
                   @Html.DropDownListFor(model => model.OrderStatusId, new SelectList( ViewBag.OrderStatusList, "OrderStatusId", "OrderStatusName"))
            </div>
        </div>        
    }
    else
    {
        <div class="row-mb3">
            <div class="col-sm6">
                <input hidden asp-for="OrderStatusId" />
            </div>
        </div>
    }
    @if (Model.OrderStatusId < 2)
    {
         <div class="row-mb3">
            <label class="col-sm3 col-form-label">@Html.DisplayNameFor(model => model.Discount)</label>
            <div class="col-sm6">
                <input type="number" class="form-control" asp-for="Discount">
            </div>
        </div>
            <div class="row-mb3">
            <label class="col-sm3 col-form-label">@Html.DisplayNameFor(model => model.ShippedDate)</label>
            <div class="col-sm6">
                <input type="date" class="form-control" asp-for="ShippedDate">
            </div>
        </div>       
    }
    else
    {
         <div class="row-mb3">
            <label class="col-sm3 col-form-label">@Html.DisplayNameFor(model => model.Discount)</label>
            <div class="col-sm6">
                <input type="number" class="form-control" asp-for="Discount" readonly>
            </div>
        </div>
            <div class="row-mb3">
            <label class="col-sm3 col-form-label">@Html.DisplayNameFor(model => model.ShippedDate)</label>
            <div class="col-sm6">
                <input type="date" class="form-control" asp-for="ShippedDate" readonly>
            </div>
        </div>       
       
    }
     <div class="row-mb3">
        <label class="col-sm3 col-form-label">@Html.DisplayNameFor(model => model.SaleAmount)</label>
        <div class="col-sm6">
            <input type="text" class="form-control" asp-for="SaleAmount" readonly>
        </div>
    </div>
    @if (Model.OrderStatusId < 3)
    {
        <div class="row-mb3">
            <label class="col-sm3 col-form-label">@Html.DisplayNameFor(model => model.SaleAmountPaid)</label>
            <div class="col-sm6">
                <input type="text" class="form-control" asp-for="SaleAmountPaid" >
            </div>
        </div>        
    }
    else
    {
        <div class="row-mb3">
            <label class="col-sm3 col-form-label">@Html.DisplayNameFor(model => model.SaleAmountPaid)</label>
            <div class="col-sm6">
                <input type="text" class="form-control" asp-for="SaleAmountPaid" readonly>
            </div>
        </div>                
    }
    @if (Model.OrderStatusId < 2)
    {
        <div class="row-mb3">
            <label class="col-sm3 col-form-label">@Html.DisplayNameFor(model => model.TaxPercentageValue)</label>
            <div class="col-sm6">
                <input type="text" class="form-control" asp-for="TaxPercentageValue">
            </div>
        </div>
    }
    else
    {
        <div class="row-mb3">
            <label class="col-sm3 col-form-label">@Html.DisplayNameFor(model => model.TaxPercentageValue)</label>
            <div class="col-sm6">
                <input type="text" class="form-control" asp-for="TaxPercentageValue" readonly>
            </div>
        </div>        
    }
    <div class="row-mb3">
        <label class="col-sm3 col-form-label">@Html.DisplayNameFor(model => model.ShoppingCartStatusName)</label>
        <div class="col-sm6">
            <input type="text" class="form-control" asp-for="ShoppingCartStatusName" readonly>
        </div>
    </div>
    @if (Model.OrderStatusId == 1)
    {   // if the order status is pending, then processing, otherwise, Submit
        // wenn der Bestellstatus ausstehend ist, dann Bearbeitung, andernfalls Absenden
        // ha a rendelési státusz függőben akkor feldolgozás, különben Beküldés
        <br />
        <button type="submit" class="btn-primary">Bearbeitung</button>
    }
    else
    {
        <br />
        <button type="submit" class="btn-primary">Bezahlt</button>
    }

</form>